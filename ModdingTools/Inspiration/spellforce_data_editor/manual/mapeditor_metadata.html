<!DOCTYPE html>
<html lang="en-US">
<head>
  <link rel="stylesheet" href="styles.css">
</head>
<body>

<h1>Map Editor - Metadata mode</h1>
<p>Maps in SpellForce, besides data which directly impacts the look of the map, contains information invisible to the human eye. Those are: coop spawn parameters, minimap data and team compositions.</p>
<img src="img/mapeditmetadata.png">

<h2>Map type</h2>
<p>Every map belongs to one of the following types: <b>Campaign</b>, <b>Coop</b>, <b>Multiplayer</b>.</p>
<p>From here it is assumed that your game directory is <b>C:\SpellForce</b>. Depending on where you installed your game, the folder might be different.</p>
<h3>Campaign maps</h3>
<p>Campaign maps are maps placed in folders <b>C:\SpellForce\map\campaign</b>, <b>C:\SpellForce\map\campaign2</b> and <b>C:\SpellForce\map\campaign3</b>. When this type is selected, portals other than <i>Portal to Return</i> will work correctly. Additionally, changing building race in map editor will work correctly in this map mode.</p>
<p>Coop maps are maps placed in folder <b>C:\SpellForce\map\lanfreegame</b>. When this type is selected, <i>Minimap settings</i>, <i>Team compositions</i> and <i>Coop spawn parameters</i> are enabled, and placing coop spawns will work correctly.</p>
<p>Multiplayer maps are maps placed in folder <b>C:\SpellForce\map\lan</b>. When this type is selected, <i>Minimap settings</i> and <i>Team compositions</i> are enabled.</p>

<h2>Coop spawn parameters</h2>
<p>Coop spawns have initial parameters set in <a href="index.html#SQLMODSPAWN">GdRtsCoopSpawnGroups.lua</a>, however these settings can be further modified depending on now many players are on the map with these parameters.</p>
<ul>
  <li><b>Max clan size</b> is a multiplier to a coop spawn's max clan size parameter.</li>
  <li><b>Init spawn</b> is a multiplier to the amount of units that spawn from the camp on game start.</li>
  <li><b>Begin wave</b> is a multiplier to the time the wave starts becoming active.</li>
  <li><b>Spawn delay</b> is a multiplier to the time it takes for the wave to activate.</li>
</ul>

<h2>Manage team compositions</h2>
<p>Pressing this button will open <i>Team compositions</i> window.</p>
<img src="img/mapeditmetadatateamcomps.png">
<h3 id="TEAMCOMP">Team compositions</h3>
<p>Team composition is a configuration of teams on a given map. This configuration describes how many teams there are on the map, how many players are in each team, and which players belong to which team.</p>
<p>You can set up multiple team compositions on a given map. For example, instead of making two maps, one with 2 available teams, and another with 4 available teams, you make one map with two team compositions: one that allows 2 teams, and another that allows 4 teams.</p>
<p>On coop maps, team compositions must have at least 1 available team. On multiplayer maps, team compositions must have at least 2 available teams. In both cases, maximum of 4 teams in one team composition are allowed.</p>
<p>You can add and remove team compositions using respective controls. Using <i>Add</i> button will create a new team composition, with lowest available team count that isn't already on the list.</p>
<p>Selecting a team composition will display all teams available for that composition in <i>Teams</i> list.</p>

<h3>Teams</h3>
<p>All teams available for selected team composition are listed here. Selecting a team will display players assigned to the team in <i>Team players</i> list, and all players not assigned to any team in <i>Available players</i> list.</p>
<p>A player on the map is uniquely represented by a bindstone. There are as many available players on the map as there are bindstones. As long as a player is assigned to any team, bindstone can't be removed from the map.</p>

<h3>Team players</h3>
<p>All players assigned to selected team are listed here. Each player can optionally have a name assigned to it by setting <i>Text ID</i>.</p>
<p>You can remove players from team by pressing <i>Kick from team</i>. Those players will be moved to <i>Available players</i>.</p>
<p><unknown><b>Selected player name/level range</b> seem to be unused...</unknown></p>

<h3>Available players</h3>
<p>All players not assigned to any team are listed here.</p>
<p>You can add a player to selected team by pressing <i>Move to team</i>. This will remove selected player from <i>Available players</i>, and add it to <i>Team players</i>.</p>

<h2>Minimap settings</h2>
<p>Map selection in SpellForce allows you to preview the maps with embedded minimaps. Turns out, the "minimaps" can be any image, as long as precautions are made.</p>
<img src="img/mapeditmetadataminimap.png">
<p>Following options are available for embedding a minimap:</p>
<ul>
  <li><b>Use original minimap</b>: Image embedded in the map loaded with Map Editor will be embedded in the map saved with it.</li>
  <li><b>Use editor minimap</b>: Minimap generated with Map Editor will be embedded in the map saved with Map Editor.</li>
  <li><b>Import custom image</b>: You can use any image you want to embed in the map. For best results, the image size should be 128x128. <warning>Using an image with different size will cause the image to be downscaled/upscaled using low-quality interpolation, which will degrade quality of the image.</warning></li>
</ul>


</body>