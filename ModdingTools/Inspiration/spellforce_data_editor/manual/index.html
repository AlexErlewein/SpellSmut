<!DOCTYPE html>
<html lang="en-US">
<head>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
<h1>SpellForce Editor Manual</h1>
<p>SpellForce Editor is a set of tools which aim to enable sophisticated modding of SpellForce: The Order of Dawn and its two expansions: Breath of Winter and Shadow of the Phoenix. This manual was written to provide a comprehensive overview of capabilities of this program.</p>
<p>This manual was last updated on 16.04.2024.</p>

<h2>Table of contents</h2>
<ol>
  <li><a href="#REQ">Requirements</a></li>
  <li><a href="#INSTALL">Installation</a></li>
  <li><a href="#MAIN">Main window</a></li>
  <li><a href="#GDEDIT">GameData Editor</a></li>
  <li><a href="#AVIEW">Asset Viewer</a></li>
  <li><a href="#MAPEDIT">Map Editor</a></li>
  <li><a href="#SQLMOD">SQL Modifier</a></li>
</ol>

<h2 id="REQ">1. Requirements</h2>
<p>These are requirements your computer has to meet in order to run this program:</p>
<ul>
  <li>Windows 10</li>
  <li>.Net 8.0</li>
</ul>
<p>These requirement must be met if you want to run something other than GameData Editor:</p>
<ul>
  <li>SpellForce installed somewhere on the computer (v. 1.54 and 1.61 have been tested and proved to work)</li>
  <li>OpenGL version 4.3 or higher</li>
</ul>
<p>Additiional tools useful when working with this editor:</p>
<ul>
  <li><a href="https://www.elberethzone.net/dragon-unpacker.html">Dragon UnPacker</a>, allows you to extract any file from game paks</li>
  <li><a href="https://notepad-plus-plus.org/downloads/">Notepad++</a>, useful for editing Lua scripts</li>
  <li><a href="https://www.gimp.org/">GIMP</a> or <a href="https://www.getpaint.net/">Paint.net</a>, good for editing textures (.dds, .tga) used by models in the game</li>
  <li><a href="https://www.blender.org/">Blender</a>, a 3D manipulation program used for editing 3D models and animations, and FBX converter distributed with SpellForce 1.61 on Steam</li>
</ul>

<h2 id="INSTALL">2. Installation</h2>
<p>At the time of writing this manual, the most recent version of the editor can be found <a href = "https://github.com/leszekd25/spellforce_data_editor/blob/with_viewer/bin/SpellforceDataEditor_with_viewer.zip">here</a>. Download the file and extract all the files to one folder (in this manual, the folder is assumed to be <b>C:\</b>). You can now run this program.</p>

<h2 id="MAIN">3. Main window</h2>
<p>Upon running the program, you are greeted with this window:</p>
<img src="img/mainform.png">
<h3>3.1. Specifying game directory</h3>
<p>On your first run, there is this information at the top: <i>Game directory: NOT specified</i>. As long as you don't specify game directory, you won't be able to run any of the tools shown in <crimson>crimson</crimson>.</p>
<p>To specify game directory, click the aptly named button, <i><crimson>Specify game dir...</crimson></i>, and select the directory in which your copy of SpellForce is installed. The process takes a few seconds. When it's finished, the information should now say <i>Game directory: Specified</i>.</p>
<p>For simplicity, it is assumed that your copy of SpellForce is installed in <b>C:\SpellForce</b>.</p>
<p>If your copy of SpellForce is corrupted (missing files), specifying game directory might not work. It is advised to re-install SpellForce when this happens.</p>
<h3>3.2. Available tools</h3>
<p>There are 4 tools you can use: <i>GameData Editor</i>, <i><crimson>Asset Viewer</crimson>, <crimson>Map Editor</crimson>, <crimson>SQL Modifier</crimson>.</i></p>
<h3>3.3. Other elements</h3>
<p>At the bottom, you can see a set of numbers, which mean the date of the last modification of the editor, as well as revision at that date (in format DD.MM.YYYY.X, in the screenshot above: 17.01.2023.1). These together mark the version of the editor you're using. If there is a new version available, a link will appear next to the version. Clicking it will lead you to the latest available version of the editor.</p>
<p><warning>Closing the main window will instantly close all the other opened windows, without asking you to save your progress.</warning></p>

<h2 id="GDEDIT">4. GameData Editor</h2>
<p>GameData Editor allows you to open, edit and save GameData.cff - the main database file for SpellForce, in which all text data, unit/item/building stats, races, spell parameters, loot tables, and much more is located.</p>
<p>After you open GameData Editor, select gamedata file you want to view. In this manual, it would be <b>C:\SpellForce\data\GameData.cff</b>. The editor window should look like this:</p>
<img src="img/gdeditor.png">
<ul>
  <li><a href="#MAINMENUSTRIP">A. Menu strip</a></li>
  <li><a href="#MAINCATSEL">B. Category selection</a></li>
  <li><a href="#MAINELEMSEL">C. Element selection</a></li>
  <li><a href="#MAINELEMMANIP">D. Element manipulation panel</a></li>
  <li><a href="#MAINELEMVIEW">E. Element view panel</a></li>
  <li><a href="#MAINELEMSEARCH">F. Element search panel</a></li>
  <li><a href="#MAINREF">P1. References window</a></li>
</ul>

<h3 id="MAINMENUSTRIP">4.A. Menu strip</h3>
<h4>File</h4>
<p><b>Open GameData.cff (Ctrl + O)</b> - opens the <i>Load Gamedata</i> dialog.</p>
<img src="img/gdloadgamedata.png">
<p>There are 3 loading modes, and some features are only available in certain modes:</p>
<ul>
  <li><b>Full</b> - loads a single gamedata. This is the default loading mode, no catches.</li>
  <li><b>Merge</b> - loads two gamedata files, merges them and displays the result. Works well when you have a big main gamedata, and smaller gamedata files with various new elements. When the merge sees items with the same ID, it selects items from the <b>other</b> gamedata.</li>
  <li><b>Difference</b> - loads two different gamedata files, calculates difference between them, and displays the result. For example, you have a gamedata from version 1.54, and from version 1.61, and want to compare the two; in this case, select the older one with <i>Select gamedata</i> button, and the newer one with <i>Select other gamedata</i> button.</li>
</ul>
<p><b>Save as... (Ctrl + S)</b> - opens the <i>Save Gamedata</i> dialog. You can select the filename under which the gamedata will be saved.</p>
<p><b>Close</b> - closes currently open gamedata file. You will be asked to save the file.</p>
<p><b>Exit (Alt + F4)</b> - closes GameData Editor. If another file is already opened, you will be asked to save the file.</p>

<h4>Edit</h4>
<p><b>Undo (Ctrl + Z)</b> - undoes the last change you've made in the editor.</p>
<p><b>Redo (Ctrl + Y)</b> - redoes the last change you've undone.</p>
<p><b>Operation history...</b> - opens <i>Operation history</i> window, where you can inspect the changes made to the gamedata in the current session so far.</p>

<h4>Special</h4>
<p><b>Find all references... (F3)</b> - opens References window.</p>

<h3 id="MAINCATSEL">4.B. Category selection</h3>
<p>Gamedata file contains at most 49 explicit categories, all of which can be selected and edited in this editor. Some of the more important categories are listed here:</p>
<ul>
  <li><b>2002. Spell data</b> - contains parameters for every spell in the game, for example: damage done by Pain spell, duration of Freeze spell, casting speed of all spells</li>
  <li><b>2003. Item general info</b> - contains information for every item in the game, and links to other item categories (if applicable)</li>
  <li><b>2016. Text data</b> - contains every text you can read in the game, in multiple languages</li>
  <li><b>2024. Unit general data/link with unit stats</b> - contains information for every unit in the game, and links to other unit categories (if applicable)</li>
</ul>
<p>Selecting a category from the drop-down menu will list all elements from the selected category.</p>

<h3 id="MAINELEMSEL">4.C. Element selection</h3>
<p>When you select an element from the list, a detailed information about the element will apear in element view panel.</p>

<h3 id="MAINELEMMANIP">4.D. Element manipulation panel</h3>
<p><b>Add</b> - adds a new element at the end of the element list. If an element is stored, a copy of that element will be added. Otherwise, an empty element will be added. The element will have its ID appropriately modified.</p>
<p><b>Insert</b> - adds a new element under the currently selected element in the element list. If an element is stored, a copy of that element will be added. Otherwise, an empty element will be added. The element will have its ID appropriately modified.</p>
<p><b>Remove</b> - removes currently selected element from the element list.</p>
<p><b>Copy</b> - stores a copy of currently selected element. While an element is stored, Add and Insert buttons will be colored <orange>orange</orange>. Changing category will discard currently stored element.</p>
<p><b>Clear</b> - discards currently stored element.</p>

<h3 id="MAINELEMVIEW">4.E. Element view panel</h3>
<img src="img/gdelemview.png">
<p>There are a few important aspects of the view panel:</p>
<ul>
  <li>In most cases, element data is presented as fields with name and value. You can modify the value, and the editor will make sure that the value you provide is allowed.</li>
  <li>A. In all cases, the first field is the element ID. It's usually modified only if you're adding a new element.</li>
  <li>B. Some fields have values shown in <orange>orange</orange> boxes. When you right-click an <orange>orange</orange> box, the editor will show you the element that the box links to. A new <i><orange>Back</orange></i> button will also appear next to the view panel; pressing it will take you back to the previously viewed element.</li>
  <img src="img/gdtracer.png">
  <li>C. Aggregate categories (like category 2003. or 2024.) have special <yellow>yellow</yellow> buttons, which allow you to create elements in other categories. Those elements will link to the currently viewed element of the aggregate category. If such elements already exist, then the <yellow>yellow</yellow> buttons will turn <orange>orange</orange>, and you will be able to view those elements by pressing the buttons.</li>
  <li>D. In all cases, there is a special information panel under the fields panel, in which additional description of the currently viewed element is shown.</li>
</ul>

<h3 id="MAINELEMSEARCH">4.F. Element search panel</h3>
<p>Search panel allows you to quickly find elements which meet criteria specified by you.</p>
<p>The criteria are:</p>
<ul>
  <li>Value - only elements with this value will be included in search results</li>
  <li>Value type - <i>Numeric</i> will find elements of which number fields are equal to <i>Value</i>, <i>Text</i> will find elements of which names and/or text fields contain <i>Value</i>, <i>Bitfield</i> will find elements of which number fields meet the bit pattern that <i>Value</i> exhibits (for example, <i>Value</i> = 6 means bitfield of 00000110 (0*1 + 1*2 + 1*4 + 0*8 + 0*16 + ... = 6))</li>
  <li>Search by column - if this is checked, only selected field value will be considered in the search</li>
</ul>
<p>Pressing <i>New search</i> button will open a new window which will display elements from the given category that meet the search criteria. Pressing <i>Continue search</i> will perform search only on elements that are in the search result window. Changing category will clear the search result window.</p>

<h3 id="MAINREF">4.P1. References window</h3>
<p>When you open references window while an element from any category is selected, all elements from other categories which reference selected element will be listed. You can select any element from the references window to show it in element view panel.</p>
<img src="img/gdreferences.png">

<h2 id="AVIEW">5. Asset Viewer</h2>
<p>Asset Viewer allows you to preview nearly all of the game assets - models, animations, music and sounds. You can also synchronize it with GameData Editor to preview units, buildings and such as you view them in the editor.</p>
<p><warning>While Asset Viewer is running, you can't open Map Editor. This is likely to be fixed sometime in the future.</warning></p>
<img src="img/assetviewer.png">
<ul>
  <li><a href="#AVIEWCONTROL">X. View controls</a></li>
  <li><a href="#AVIEWMENU">A. Menu strip</a></li>
  <li><a href="#AVIEWMODE">B. View mode</a></li>
  <li><a href="#AVIEWASSET">C. Main asset list</a></li>
  <li><a href="#AVIEWTIME">D. Time controller</a></li>
  <li><a href="#AVIEWANIM">E. Secondary asset list</a></li>
  <li><a href="#AVIEWSTATUS">F. Status strip</a></li>
  <li><a href="#AVIEWWINDOW">G. View window</a></li>
</ul>

<h3 id="AVIEWCONTROL">5.X. View controls</h3>
<p>While holding any mouse button over view window, <b>move mouse</b> around to change camera angle.</p>
<p>While holding any mouse button over view window, use <b>arrow keys</b> to change camera position.</p>
<p>Scroll <b>mouse wheel</b> to change camera height.</p>

<h3 id="AVIEWMENU">5.A. Menu strip</h3>
<h4>Options</h4>
<p>Reset camera position (Space) - returns camera to its initial position.</p>
<p>Reload current scene (Ctrl + R) - serves as a hot-reload for the currently viewed scene. Useful when you're making a new model and want to see how it would look in game.</p>
<p id="AVIEWEXTRACT">Extraction settings - opens a window in which you can specify asset extraction settings.</p>
<img src="img/avextractsettings.png">
<ul>
  <li>Extraction directory - specifies the folder to which the assets would be extracted to</li>
  <li>Extraction mode - specifies how the assets would be extracted. <i>All in one directory</i> will extract the assets directly to the specified extraction directory. <i>Subdirectories</i> will create subdirectories in which the assets will be placed; these subdirectiories reflect the folder structure of SpellForce assets (for example, mesh files will be placed in <b>mesh\</b>, while textures will be placed in <b>textures\</b>).</li>
</ul>
<p>Effect Editor - does nothing. You can look around here, but nothing will happen. Work in progress.</p>

<h3 id="AVIEWMODE">5.B. View mode</h3>
<p>You can select one of available view modes here.</p>
<ul>
  <li><b>Meshes</b> - loads all meshes found in the base game and lists them in the main asset list</li>
  <li><b>Animations</b> - loads all animated meshes found in the base game and lists them in the main asset list</li>
  <li><b>Synchronize with GameData Editor</b> - a special mode, hides main asset list; while this mode is active, view window will show any element that you select in GameData Editor, depending on the category you selected in it</li>
  <li><b>Music</b> - loads all music files found in the base game and lists them in the main asset list</li>
  <li><b>Sounds</b> - loads all non-speech sound files found in the base game and lists them in the main asset list</li>
  <li><b>Messages</b> - shows a second selection box next to view mode, where you can select one of available message types; after you select one of them, all message sounds of that type will be loaded and listed in the main asset list</li>
</ul>

<h3 id="AVIEWASSET">5.C. Main asset list</h3>
<p>When you select a mesh asset or an animated mesh asset from this list, it will appear in the view window. When you select a music, sound or message asset, the currently played audio will stop.</p>
<p>An <i>Extract</i> button next to the list allows you to extract the currently viewed asset. See <a href="#AVIEWEXTRACT">Extraction settings</a> for specific mechanics of extraction.</p>

<h3 id="AVIEWTIME">5.D. Time controller</h3>
<p>This element will show in Animations, Music, Sounds and Messages view mode. It will also show if you're currently viewing a unit in GameData Editor while <i>Synchronize with GameData Editor</i> view mode is selected.</p>
<p><i>Play</i> button will play the selected animation or sound, <i>Stop</i> button will stop it.</p>
<p>You can move the time slider around to move to different parts of the curreently selected sound or animation.</p>

<h3 id="AVIEWANIM">5.E. Secondary asset list</h3>
<p>This element will show in Animations view mode. It will also show if you're currently viewing a unit in GameData Editor while <i>Synchronize with GameData Editor</i> view mode is selected.</p>
<p>This list contains all animations that Asset Viewer found relevant to the currently viewed asset. Sometimes animations may exist for the element, but Asset Viewer won't be able to find them because of the naming convention being broken (for example, figure_boss_rohan_undead model lists animations for figure_boss_rohan_on_saurian_undead, though the animations clearly don't match the model).</p>
<p>Selecting an animation from the list will play it in the view window.</p>
<p>An <i>Extract</i> button next to the list allows you to extract the currently viewed animation. See Extraction settings for specific mechanics of extraction.</p>

<h3 id="AVIEWSTATUS">5.F. Status strip</h3>
<p>If Asset Viewer can't load an asset, an appropriate message will appear in status strip. Similarly, if Asset Viewer can't extract an asset, a message will also show here.</p>
<p><i>Toggle floor</i> button allows you to show/hide the floor on which models are shown in the view window.</p>

<h3 id="AVIEWWINDOW">5.G. View window</h3>
<p>For any asset you're currently viewing, additional info is shown in the window. For example, how many bones the currently viewed animated model's skeleton contains, or how many vertices/triangles the currently viewed mesh has.</p>

<h2 id="MAPEDIT">6. Map Editor</h2>
<p>Map Editor contains all the necessary tools (and then more) to create new maps and/or edit existing maps.</p>
<p><warning>While Map Editor is running, you can't open Asset Viewer. This is likely to be fixed sometime in the future.</warning></p>
<img src="img/mapeditor.png">
<ul>
  <li><a href="#MAPEDITCONTROL">X. Editor controls</a></li>
  <li><a href="#MAPEDITMENU">A. Menu strip</a></li>
  <li><a href="#MAPEDITMODE">B. Editor modes</a></li>
  <li><a href="#MAPEDITTOOL">C. Editor tools</a></li>
  <li><a href="#MAPEDITVIEW">D. Main view</a></li>
  <li><a href="#MAPEDITSTATUS">E. Status strip</a></li>
</ul>
<p>If GameData editor is opened, or any time you open GameData Editor while Map Editor is open, the two will synchronize. As long as both GameData Editor and Map Editor are opened, you will be able to right-click <orange>orange</orange> fields in Map Editor, to show the linked element in GameData editor.</p>
<p><b>C:\SpellForce\data\GameData.cff</b> will be used by both GameData editor and Map Editor while Map Editor is opened.</p>
<p>Closing either Map Editor or GameData Editor will desynchronize the other.</p>

<h3 id="MAPEDITCONTROL">6.X. Editor controls</h3>
<p>You can focus the main view by pressing <b>middle mouse button</b> anywhere on the main view.</p>
<p>While main view is focused, <b>keyboard arrows</b> will change camera position, and scrolling <b>mouse wheel</b> will change camera elevation.</p>
<p>While you hold <b>middle mouse button</b> on the main view, moving the mouse around will change camera angle.</p>

<h3 id="MAPEDITMENU">6.A. Menu strip</h3>
<h4>File</h4>
<p>Create new map - will show a prompt in which you can set initial map parameters.</p>
<img src="img/mapeditnewmap.png">
<ul>
  <li>Size - sets the size of this map. Allowed values are 256 (example: Liannon), 512 (example: Wildland Pass), 1024 (example: Southern Windwalls)</li>
  <li>Generate base for terrain - if checked, initial terrain will be generated using the remaining parameters</li>
  <li>other parameters tbd</li>
</ul>
<p>Load map - loads the map of your choice. If another map is opened, you will be asked to save it. If the map can't be loaded for any reason, a message will show on the status strip.</p>
<p>Save map - saves the map under a new filename. You can overwrite existing maps. If the map can't be saved for any reason, a message will show on the status strip. <warning>It is advised to make map backups before saving, as long as this warning is active.</warning></p>
<p>Close map - closes the current map. You will be asked to save it before that happens.</p>
<p>Exit - closes the map editor. If a map is opened, you will be asked to save it.</p>
<h4>Edit</h4>
<p>Undo (Ctrl + Z) - undoes the latest changes you've made to the map.</p>
<p>Redo (Ctrl + Y) - redoes the last changes  to the map you've undone.</p>
<p>Operation history... - opens a window with all changes you've made to the map. Changes marked <red>red</red> are the changes you've undone, but can still redo.</p>
<h4>Tools</h4>
<p>Import/Export heightmap.. - opens <a href="mapeditor_terrain.html#IMPORTHMAP">Import/Export Heightmap</a> window.</p>
<p>Visibility settings - opens a window in which you can turn on/off certain features of the map. This is editor-only and does not have any impact on the game.</p>
<img src="img/mapeditvisibility.png">
<p>Options in the first column show/hide various features of the map, like units, objects or decorations.</p>
<ul>
  <li>Visualize height - turns on/off elevation visualization. In this mode, color of the terrain changes with elevation change. You can also toggle this using Ctrl + H.</li>
  <li>Display grid - turns on/off terrain grid. You can also toggle this using Ctrl + G.</li>
  <li>Grid color - changes grid color to the one defined by the user.</li>
  <li>Display minimap - turns on/off minimap display. You can also toggle this using Ctrl + M.</li>
  <li>Display minimap icons - shows/hides icons on the minimap.</li>
  <li>Enable animations - gives animations to the units, so they no longer T-pose. This brings a certain performance cost, as the editor window is continuously redrawn, as opposed to only when needed.</li>
</ul>
<img src="img/mapeditvisoptions.png">

<h3 id="MAPEDITMODE">6.B. Editor modes</h3>
<p>There are currently 6 modes to choose from:</p>
<ul>
  <li><a href="mapeditor_terrain.html">Terrain</a> allows you to modify terrain height, movement/visibility flags, lakes and weather settings.</li>
  <li><a href="mapeditor_textures.html">Textures</a> contains options to change base texture set, paint terrain with various textures, and specify your own variations of terrain textures.</li>
  <li><a href="mapeditor_entities.html">Entities</a> governs all entities on the map - units, buildings, objects, monuments, portals, bindstones and coop camps.</li>
  <li><a href="mapeditor_decorations.html">Decorations</a> lets you modify decoration sets and paint the terrain using those sets.</li>
  <li><a href="mapeditor_metadata.html">Metadata</a> controls the type of the map, allowed player team compositions, modification of the minimap shown in game main menu, and coop camp spawn parameters.</li>
  <li><a href="mapeditor_mask.html">Mask/selection</a> allows you to precisely specify the editing region - you can only edit parts of terrain which are not masked.</li>
</ul>
<p>Each of these modes is extensive enough that they have their own page dedicated to them (see links above).</p>

<h3 id="MAPEDITTOOL">6.C. Editor tools</h3>
<p>Each of editor modes has specific set of tools and options, most of which will be shown in this area. More on this on editor mode pages.</p>

<h3 id="MAPEDITVIEW">6.D. Main view</h3>
<p>This is the main area of the editor. The map and all its entities are shown here.</p>
<p>When you move mouse cursor over the terrain, a 3D cursor will follow the mouse cursor to show you which area will be affected by tool operations, like height modification or entity placement.</p>
<p>If enabled, a minimap is shown on the bottom right of the display. While you hold <b>left mouse button</b> over its top-left corner, dragging the mouse will resize the minimap. Clicking the minimap with <b>left mouse button</b> will move the camera to where you clicked on the minimap.</p>

<h3 id="MAPEDITSTATUS">6.E. Status strip</h3>
<p>While the map is loading, status strip will indicate the loading stage of the map. If the map was successful, <i>Ready</i> message will appear. Otherwise, an error message will be shown here.</p>
<p>If an error occurs while saving the map, a respective error message will show in the status strip.</p>
<p>Moving the mouse cursor over the terrain will display various information about the terrain at the 3D cursor position - namely, its XY grid position, its height (H), texture ID (T), decoration set ID (D) and lake ID (L).</p>
<p><i>Camera speed</i> slider controls how fast the camera movement with keyboard arrows is.</p>

<h2 id="SQLMOD">7. SQL Modifier</h2>
<p>SQL Modifier is a tool with which you can modify various Lua SQL scripts associated with the game. These scripts contain information about, for example, which model should be linked to a given item, or which units are spawned from a given coop camp type.</p>
<p>If a given script can't be found in game directory (<b>C:\SpellForce\script\</b>), the script from internal game files will be used instead.</p>
<p><warning>Only by pressing <i>Apply</i> in the respective window you will save the changes. Closing the window in any other way will discard the changes.</warning></p>
<img src="img/sqlmodifier.png">

<h3 id="SQLMODSPAWN">GdRtsCoopSpawnGroup.lua</h3>
<img src="img/sqlmodspawngroups.png">
<ul>
  <li>A. Available spawn types. Selecting a type from the list will load spawn parameters into B., and spawn waves into C. <i>Add new spawn type</i> will create a new spawn type at the end of the list.</li>
  <li>B. Spawn parameters.
  <ul>
    <li>Name - the name shown in A. Otherwise unused.</li>
	<li>Level range - this is unused.</li>
	<li>Goal - behavior of the units in the spawn. GoalCoopAggressive and GoalCoopDefensive are proved to work, others are a big question mark.</li>
	<li>Max clan size - maximum number of units allowed to spawn from a single camp of this type.</li>
	<li>Starting units - units spawned from this camp at the game start. You can add or remove these units using respective controls.</li>
  </ul></li>
  <li>C. Spawn waves. At intervals specified here, waves will activate. For example, if the first wave starts 10 minutes in, and second wave starts 20 minutes in, then 0-10 minutes into the game none of the waves are active, 10-20 minutes in only the first wave is active, 20+ minutes in <i>both</i> waves are active. You can add or remove waves using respective controls. Selecting a wave from the list will load wave parameters into D.</li>
  <li>D. Wave parameters.
  <ul>
    <li>Wave period - specifies how often the wave will activate, spawning its units. In the image above, this wave will activate every 2 minutes 30 seconds, starting from 5 minutes into the game.</li>
	<li>Wave units - a list of units spawned every time this wave activates. You can add or remove units using respective controls.</li>
  </ul></li>
</ul>
<p>If you have GameData Editor opened and gamedata is loaded, Starting units and Wave units will display unit names next to unit IDs.</p>

<h3 id="SQLMODITEM">sql_item.lua</h3>
<img src="img/sqlmoditem.png">
<p>On the left, there is a list of items stored in sql_item.lua. You can add or remove items using respective controls. If you have GameData Editor opened and gamedata is loaded, item names will be displayed next to item IDs in the list.</p>
<ul>
  <li>Mesh parameters determine which variant of the mesh is used depending on the context.
  <ul>
    <li>If the item is a fakechest (as is the case for non-avatar/hero chest items), male cold and male warm parameters are set to the name of the model to use for the given monster.</li>
	<li>If the item is a weapon or a shield, male cold and male warm parameters are set to the name of the model to use for the given item.</li>
	<li>If the item is a helmet, chestpiece or a legpiece, male cold and male warm parameters are set to the name of the male variant of the model to use for the given item, and female cold and female warm parameters are set to the name of the female variant of the model to use for the given item.</li>
	<li>If the item is a fakechest used for monument army units (workers/swarms included), each of the mesh parameters is set to the name of the respective variant of the model to use for the given unit (blue, green, yellow and red).</li>
  </ul></li>
  <li>If the item is a fakechest, <i>Animation set</i> parameter is set to the name of the animation set used by the given model. It usually follows the naming convention (for example, figure_npc_skeleton will use animations with prefix figure_npc_skeleton), but it's not always the case. See <b>C:/SpellForce/object/object_figure_init.lua</b> for details.</li>
  <li>Selection size controls how big the selection helper will appear in Map Editor when you select the unit that's using this item as a chest piece. (this is not implemented)</li>
  <li>Other parameters are unused.</li>
</ul>

<h3 id="SQLMODOBJECT">sql_object.lua</h3>
<img src="img/sqlmodobject.png">
<p>On the left, there is a list of objects stored in sql_object.lua. You can add or remove objects using respective controls. If you have GameData Editor opened and gamedata is loaded, object names will be displayed next to object IDs in the list.</p>
<ul>
  <li>Mesh files list contains names of all meshes used by this object. You can add or remove meshes using respective controls.</li>
  <li>Scale (%) determines how big the object will appear. Default is 100.</li>
  <li>Selection size controls how big the selection helper will appear in Map Editor when you select the object.</li>
  <li>Other parameters are unused.</li>
</ul>

<h3 id="SQLMODBUILDING">sql_building.lua</h3>
<img src="img/sqlmodobject.png">
<p>On the left, there is a list of buildings stored in sql_building.lua. You can add or remove building using respective controls. If you have GameData Editor opened and gamedata is loaded, building names will be displayed next to building IDs in the list.</p>
<ul>
  <li>Mesh files list contains names of all meshes used by this building. You can add or remove meshes using respective controls.</li>
  <li>Selection size controls how big the selection helper will appear in Map Editor when you select the building.</li>
</ul>

<h3 id="SQLMODHEAD">sql_heads.lua</h3>
<img src="img/sqlmodheads.png">
<p>Each head in sql_heads.lua only has two parameters: Mesh (male) is the male variant of the head with the given ID, Mesh (female) is the female variant of the head with the given ID. You can add or remove heads using respective controls. <warning>This is not tested. Adding or removing heads may have unforeseen results (game crash etc.)</warning></p>

<h3>Lua Decompiler 4.01</h3>
<p>Scripts found in game paks are packed to bytecode format, which renders editing them nearly impossible. This decompiler allows you to restore the file to readable (and editable) format. <warning>Some of the scripts may not decompile correctly!</warning></p>
<img src="img/luadec.png">
<p><b>Decompile file...</b> - select a file to decompile.</p>
<p><b>Decompile directory...</b> - select a folder. All scripts in that folder and all its subfolders will be decompiled.</p>
<p><b>Replace original scripts</b> - if unchecked, for each decompiled script a new script with <b>_d</b> suffix will be created. If checked, decompiled script will replace the original script.</p>
<p>Result of decompilation is seen on the right - <b>Scripts found</b>, <b>Successfully decompiled</b>, <b>Failed to decompile</b>.</p>
<yellow>Note: this tools is largely obsolete, since THQN released original scripts (see <a href="https://github.com/THQNordic/SpellForceLUASources">here</a>).</yellow>
</body>